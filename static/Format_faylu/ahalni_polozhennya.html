<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <title>Загальні положення - Криворізький ресурсний центр</title>
    <meta name="description" content="Опис процесу імпорту інформації від керуючої компанії до розділу Житловий Фонд.">
    <meta name="author" content="Halik Yuriy (y@novakom.com.ua)">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="icon" href="../themes/daux/img/favicon-blue.png" type="image/x-icon">

    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- JS -->
    <script>
        window.base_url = "../";
        document.documentElement.classList.remove('no-js');
    </script>

    <!-- Font -->
    
    <!-- CSS -->
    <link href='../themes/daux/css/theme-blue.min.css' rel='stylesheet' type='text/css'>
            <!-- Search -->
        <link href="../daux_libraries/search.css" rel="stylesheet">
    </head>
<body class="">
    <div class="Columns content">
    <aside class="Columns__left Collapsible">
        <button type="button" class="Button Collapsible__trigger" aria-controls="sidebar_content" aria-expanded="false" aria-label="Unknown key Toggle_navigation">
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
            <span class="Collapsible__trigger__bar"></span>
        </button>

        <a class="Brand" href="../index.html">Криворізький ресурсний центр</a>

    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451">
            <path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/>
        </svg>
        <input type="search" id="search_input" class="Search__field" placeholder="Search..." autocomplete="on"
               results=25 autosave=text_search>
    </div>

        <div class="Collapsible__content" id="sidebar_content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item '><a href="../Vvedennya.html">Введення</a></li><li class='Nav__item Nav__item--open has-children'><a href="../Format_faylu/ahalni_polozhennya.html" class="Nav__item__link"><i class="Nav__arrow">&nbsp;</i>Формат файлу</a><ul class='Nav'><li class='Nav__item Nav__item--active'><a href="../Format_faylu/ahalni_polozhennya.html">Загальні положення</a></li><li class='Nav__item '><a href="../Format_faylu/Tablytsya_HOUSES.html">Таблиця HOUSES</a></li><li class='Nav__item '><a href="../Format_faylu/Tablytsya_HOUSES_ELEMENT_PAR_TYPE0.html">Таблиця HOUSES ELEMENT PAR TYPE0</a></li><li class='Nav__item '><a href="../Format_faylu/Tablytsya_HOUSES_ELEMENT_PAR_TYPE1.html">Таблиця HOUSES ELEMENT PAR TYPE1</a></li><li class='Nav__item '><a href="../Format_faylu/Tablytsya_HOUSES_ELEMENT_PAR_TYPE2.html">Таблиця HOUSES ELEMENT PAR TYPE2</a></li><li class='Nav__item '><a href="../Format_faylu/Tablytsya_HOUSES_ELEMENT_PAR_TYPE3.html">Таблиця HOUSES ELEMENT PAR TYPE3</a></li><li class='Nav__item '><a href="../Format_faylu/Tablytsya_HOUSES_ELEMENT_PAR_TYPE4.html">Таблиця HOUSES ELEMENT PAR TYPE4</a></li></ul></li><li class='Nav__item  has-children'><a href="../ahalni_dovidnyky/Perelik_dovidnykiv.html" class="Nav__item__link"><i class="Nav__arrow">&nbsp;</i>Загальні довідники</a><ul class='Nav'><li class='Nav__item '><a href="../ahalni_dovidnyky/Perelik_dovidnykiv.html">Перелік довідників</a></li><li class='Nav__item '><a href="../ahalni_dovidnyky/Dovidnyk_JKK_G_ZONE.html">Довідник JKK G ZONE</a></li><li class='Nav__item '><a href="../ahalni_dovidnyky/Dovidnyk_JKK_G_HOUSE_TYPE.html">Довідник JKK G HOUSE TYPE</a></li><li class='Nav__item '><a href="../ahalni_dovidnyky/Dovidnyk_JKK_G_HOUSES_ELEMENT.html">Довідник JKK G HOUSES ELEMENT</a></li><li class='Nav__item '><a href="../ahalni_dovidnyky/Dovidnyk_JKK_G_HOUSES_ELEMENT_PAR.html">Довідник JKK G HOUSES ELEMENT PAR</a></li><li class='Nav__item '><a href="../ahalni_dovidnyky/Dovidnyk_JKK_G_ELEMENT_PAR_MATERIAL.html">Довідник JKK G ELEMENT PAR MATERIAL</a></li></ul></li><li class='Nav__item '><a href="../Import_faylu.html">Імпорт файлу</a></li><li class='Nav__item '><a href="../Povidomyty_pro_pomylku.html">Повідомити про помилку</a></li></ul>
            <div class="Links">
                                    <hr/>
                                            <a href="https://krmisto.gov.ua/" target="_blank">Ресурсний центр</a>
                        <br />
                                                </div>

            
                
                        </div>
    </aside>
    <div class="Columns__right">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1><a href="../Format_faylu/ahalni_polozhennya.html">Формат файлу</a> <svg class="Page__header--separator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175"><path d="M360.73 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"/></svg> <a href="../Format_faylu/ahalni_polozhennya.html">Загальні положення</a></h1>
                <span class="ModifiedDate">
            March 27, 2019 at 3:49 PM        </span>
                    </div>

    <div class="s-content">
        <div class="TableOfContentsContainer">
    <h4 class="TableOfContentsContainer__title">Table of Contents</h4>
    <div class="TableOfContentsContainer__content">
        <ul class="TableOfContents">
<li>
<p><a href="#page_Perelik_fayliv_u_arkhivi">Перелік файлів у архіві</a></p>
</li>
<li>
<p><a href="#page_ahalni_pravyla_ta_rekomendatsiyi">Загальні правила та рекомендації</a></p>
<ul class="TableOfContents">
<li>
<p><a href="#page_Naychastishi_polya,_scho_budut_vykorystovuvatysya_u_faylakh">Найчастіші поля, що будуть використовуватися у файлах:</a></p>
</li>
<li>
<p><a href="#page_Umovni_typy_danykh_poliv">Умовні типи даних полів</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#page_ahalna_struktura_tablyts_i_relyatsiynykh_vidnosyn">Загальна структура таблиць і реляційних відносин</a></p>
</li>
<li>
<p><a href="#page_Adresatsiya_budynku_u_systemi_TOV_NOVA_KOM">Адресація будинку у системі ТОВ НОВА-КОМ</a></p>
</li>
</ul>    </div>
</div>
<hr />
<p>Файл для передачі - це zip-архів. Є певні вимоги для найменування файлу, це необхідно, щоб в майбутньому виключити ситуації імпорту данних до попередніх або майбутніх періодів. Назва повинна задовольняти наступному формату:</p>
<pre><code>hpYMSSSS.CFR
</code></pre>
<table>
<thead>
<tr>
<th style="text-align: left">Параметр</th>
<th style="text-align: left">Опис</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">hp</td>
<td style="text-align: left">Тип файлу. Не зміне.</td>
</tr>
<tr>
<td style="text-align: left">Y</td>
<td style="text-align: left">Номер року. Слід розуміти нумерацію починаючи з 2000 року. Значення вказується у 36-річній системі у верхньому регистрі. <strong>H</strong> – 2017рік, <strong>I</strong> – 2018рік, <strong>J</strong> – 2019рік.</td>
</tr>
<tr>
<td style="text-align: left">M</td>
<td style="text-align: left">Номер місяця. Також у 36-річній системі у верхньому регистрі. <strong>1</strong> - перший місяць. <strong>С</strong> - 12 місяць</td>
</tr>
<tr>
<td style="text-align: left">SSSS</td>
<td style="text-align: left">Серійний номер. Може бути будь якою комбінацією символів [0-9,a..z,Z..Z]. Використовуйте для вашої внутрішньої нумерації файлів. Рекомендуємо передавати кожного разу інкриментально новий номер.</td>
</tr>
<tr>
<td style="text-align: left">CFR</td>
<td style="text-align: left">Код організації. Назначається кожній керуючій компанії індивідуально один раз і на завжди.</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="page_Perelik_fayliv_u_arkhivi">Перелік файлів у архіві</h3>
<p>Файл архіву містить в собі лише файли на першому рівні. Перелік файлів визначено як:</p>
<table>
<thead>
<tr>
<th style="text-align: left">Назва файлу</th>
<th style="text-align: left">Призначення</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">HOUSES.txt</td>
<td style="text-align: left"><a href="Tablytsya_HOUSES.html">Перелік будинків і їх основні параметри</a></td>
</tr>
<tr>
<td style="text-align: left">HOUSES_ELEMENT_PAR_TYPE0.txt</td>
<td style="text-align: left"><a href="Tablytsya_HOUSES_ELEMENT_PAR_TYPE0.html">Таблиця параметрів будинку типу рядок</a></td>
</tr>
<tr>
<td style="text-align: left">HOUSES_ELEMENT_PAR_TYPE1.txt</td>
<td style="text-align: left"><a href="Tablytsya_HOUSES_ELEMENT_PAR_TYPE1.html">Таблиця параметрів будинку типу десяткових числових значень</a></td>
</tr>
<tr>
<td style="text-align: left">HOUSES_ELEMENT_PAR_TYPE2.txt</td>
<td style="text-align: left"><a href="Tablytsya_HOUSES_ELEMENT_PAR_TYPE2.html">Таблиця параметрів будинку типу календарних дат</a></td>
</tr>
<tr>
<td style="text-align: left">HOUSES_ELEMENT_PAR_TYPE3.txt</td>
<td style="text-align: left"><a href="Tablytsya_HOUSES_ELEMENT_PAR_TYPE3.html">Таблиця параметрів будинку типу цілих чисел</a></td>
</tr>
<tr>
<td style="text-align: left">HOUSES_ELEMENT_PAR_TYPE4.txt</td>
<td style="text-align: left"><a href="Tablytsya_HOUSES_ELEMENT_PAR_TYPE4.html">Таблиця параметрів будинку відносно матеріалів</a></td>
</tr>
</tbody>
</table>
<hr />
<h3 id="page_ahalni_pravyla_ta_rekomendatsiyi">Загальні правила та рекомендації</h3>
<p>Вміст файлу повинен бути лише в кодуванні <strong>cp1251</strong></p>
<p>Кожен файл повинен містити обов’язковий заголовок в якому вказано назва полів та їх типи даних, а також кількість записів. Порядок визначення полів може буди довільним. В загальному виді файли містять інформацію:</p>
<pre><code class="language-XML">    &lt;Database value=IB/&gt;
    &lt;Codepage value=CP1251/&gt;
    &lt;Columns value=ID_HOUSE;CODE_PAR;ID_OPER;DATE_COR/&gt;
    &lt;Datatypes value=CHARACTER;INTEGER;INTEGER;CHARACTER VARYING/&gt;
    &lt;Lengths value=12;8;8;255/&gt;
    &lt;RecordCount value=___/&gt;
    &lt;DATA&gt;
    ...
    &lt;/DATA&gt;
</code></pre>
<table>
<thead>
<tr>
<th style="text-align: left">Номер рядку</th>
<th style="text-align: left">Таг</th>
<th style="text-align: left">Опис</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">01</td>
<td style="text-align: left"><code>Database</code></td>
<td style="text-align: left">Службова інформація</td>
</tr>
<tr>
<td style="text-align: left">02</td>
<td style="text-align: left"><code>Codepage</code></td>
<td style="text-align: left">Кодова сторінка, завжди повинна бути <strong>CP1251</strong></td>
</tr>
<tr>
<td style="text-align: left">03</td>
<td style="text-align: left"><code>Columns</code></td>
<td style="text-align: left">Назва полів розділена символом крапка з комою. Порядок послідовності важливий для таг <code>&lt;Datatypes</code>&gt;, <code>&lt;Lengths&gt;</code>, вмісту рядків 04</td>
</tr>
<tr>
<td style="text-align: left">05</td>
<td style="text-align: left"><code>Datatypes</code></td>
<td style="text-align: left">Описує типи даних відповідних полів у <code>&lt;Columns&gt;</code>. Їх кількість повинна співпадати з кількістю полів і розміщуються відповідно назві полів рядком вище.</td>
</tr>
<tr>
<td style="text-align: left">06</td>
<td style="text-align: left"><code>Lengths</code></td>
<td style="text-align: left">Максимальна довжина знаків для полів. Їх кількість повинна співпадати з кількістю полів і розміщуються відповідно назві полів рядком вище.</td>
</tr>
<tr>
<td style="text-align: left">07</td>
<td style="text-align: left"><code>RecordCount</code></td>
<td style="text-align: left">Кількісь рядків з даними, що будуть описані в тегі <code>&lt;DATA&gt;&lt;/DATA&gt;</code>. В даному рядку замінити символи підкреслення.</td>
</tr>
</tbody>
</table>
<p>Всі дані, що містяться між тегами <code>&lt;DATA&gt;&lt;/DATA&gt;</code> є рядками з даними. Один рядок - це один запис кожне поле в якому розділене символом &quot;|&quot;(пайп) без додаткових пробільних символів. Деякі значення можуть бути відстуні, тобто мати &quot;порожнє&quot; значення.</p>
<hr />
<h4 id="page_Naychastishi_polya,_scho_budut_vykorystovuvatysya_u_faylakh">Найчастіші поля, що будуть використовуватися у файлах:</h4>
<table>
<thead>
<tr>
<th style="text-align: left">Поле</th>
<th style="text-align: left">Значення</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">CODE_PAR</td>
<td style="text-align: left">Код параметру будинку.</td>
</tr>
<tr>
<td style="text-align: left">DATE_PAR</td>
<td style="text-align: left">Дата з якого визначений параметр у будинку.</td>
</tr>
<tr>
<td style="text-align: left">ID_HOUSE</td>
<td style="text-align: left">Адреса будинку в системі кодуванні <a href="https://www.novakom.com.ua" class="Link--external">ТОВ НОВА-КОМ</a> для однозначного ідентифікування будинку.</td>
</tr>
</tbody>
</table>
<hr />
<h4 id="page_Umovni_typy_danykh_poliv">Умовні типи даних полів</h4>
<table>
<thead>
<tr>
<th style="text-align: left">Тип (XML)</th>
<th style="text-align: left">Тип (БД)</th>
<th style="text-align: left">Опис</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><code>INTEGER</code></td>
<td style="text-align: left"><code>integer</code></td>
<td style="text-align: left">Цілі числа. Може мати і від'ємні значення. Зазвичай використовують для вказання кількості, кодів, тощо.</td>
</tr>
<tr>
<td style="text-align: left"><code>CHARACTER</code></td>
<td style="text-align: left"><code>char(NN)</code></td>
<td style="text-align: left">Строчка фіксованої довжини.</td>
</tr>
<tr>
<td style="text-align: left"><code>CHARACTER VARYING</code></td>
<td style="text-align: left"><code>varchar(NN)</code></td>
<td style="text-align: left">Строчка будь якої довжини.</td>
</tr>
<tr>
<td style="text-align: left"><code>DOUBLE PRECISION</code></td>
<td style="text-align: left"><code>decimal(N,F)</code></td>
<td style="text-align: left">Числа з плаваючою крапкою. Зазвичай використовується для вказання сум.</td>
</tr>
<tr>
<td style="text-align: left"><code>DATE</code></td>
<td style="text-align: left"><code>varchar(10)</code></td>
<td style="text-align: left">Значення дати. Всі поля, в яких описується <strong>дата</strong>, завжди вказуються у форматі <strong>YYYY-MM-DD</strong>, де <code>DD</code> - день місяця (1-31), <code>MM</code> - номер місяця (01-12), <code>YYYY</code> - номер року 4 цифри</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="page_ahalna_struktura_tablyts_i_relyatsiynykh_vidnosyn">Загальна структура таблиць і реляційних відносин</h3>
<img src="../db-struct.png" />
<hr />
<h3 id="page_Adresatsiya_budynku_u_systemi_TOV_NOVA_KOM">Адресація будинку у системі ТОВ НОВА-КОМ</h3>
<p>Під адресацію слід розуміти однозначне визначення адреси будинку в межах населеного пункту, що буде відповідати унікальному цифровому ідентифікатру в 12 знаків.
Формат ідентифікатору можна описати</p>
<p><code>R</code> <code>SSSS</code> <code>BBB</code> <code>LL</code> <code>KK</code></p>
<table>
<thead>
<tr>
<th style="text-align: left">Поле</th>
<th style="text-align: left">Позиція</th>
<th style="text-align: left">Кількість знаків</th>
<th style="text-align: left">Опис</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left"><code>R</code></td>
<td style="text-align: left">1</td>
<td style="text-align: left">1</td>
<td style="text-align: left">Зарезервовано завжди вказувати &quot;1&quot;</td>
</tr>
<tr>
<td style="text-align: left"><code>SSSS</code></td>
<td style="text-align: left">2..5</td>
<td style="text-align: left">4</td>
<td style="text-align: left">Код вулиці у довіднику. Довідник можливо отримати по запиту.</td>
</tr>
<tr>
<td style="text-align: left"><code>BBB</code></td>
<td style="text-align: left">6..8</td>
<td style="text-align: left">3</td>
<td style="text-align: left">Номер будинку.</td>
</tr>
<tr>
<td style="text-align: left"><code>LL</code></td>
<td style="text-align: left">9..10</td>
<td style="text-align: left">2</td>
<td style="text-align: left">Літера будинку. У більшості випадків &quot;000&quot;, для будинків, що не мають літери. Якщо будинок має літеру, то номер - це відповідний індекс літери. Визначені наступні індекси: <br/> 0=&gt;'', <br/> 1=&gt;'А',  2=&gt;'Б',  3=&gt;'В',  4=&gt;'Г',  5=&gt;'Д',  6=&gt;'Е',  7=&gt;'Ж',  8=&gt;'З',  9=&gt;'И', <br/> 10=&gt;'К', 11=&gt;'Л', 12=&gt;'М', 13=&gt;'Н', 14=&gt;'О', 15=&gt;'П', 16=&gt;'Р', 17=&gt;'С', 18=&gt;'Т',<br/> 19=&gt;'У', 20=&gt;'Ф', 21=&gt;'Х', 22=&gt;'Ц', 23=&gt;'Ч', 24=&gt;'Ш', 25=&gt;'Щ', 26=&gt;'Ю', 27=&gt;'Я', 28=&gt;'І'</td>
</tr>
<tr>
<td style="text-align: left"><code>KK</code></td>
<td style="text-align: left">11..12</td>
<td style="text-align: left">2</td>
<td style="text-align: left">Номер корпусу. У більшості випадків &quot;00&quot;, коли немає корпусу.</td>
</tr>
</tbody>
</table>
<p>Всі поля у разі, якщо вони мають меншу кількість знаків необхідно доповнювати нулями зліва. Декілька прикладів адресації будинків:</p>
<p><code>100770260000</code> вулиця Армавірська буд. 26<br/>
<code>103960460100</code> вулиця Героїв АТО буд. 46А<br/>
<code>102060430001</code> вулиця Ватутіна буд. 43/1<br/>
<code>106610620600</code> вулиця Свято-Миколаївська буд. 62Е</p>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="../Vvedennya.html">Previous</a></li>            <li class=Pager--next><a href="../Format_faylu/Tablytsya_HOUSES.html">Next</a></li>        </ul>
    </nav>
    </article>

            </div>
        </div>
    </div>
</div>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', '', '');
    ga('send', 'pageview');
</script>

<script type="text/javascript">
    var _paq = _paq || [];
    _paq.push(["trackPageView"]);
    _paq.push(["enableLinkTracking"]);
    (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + ":///";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", 0]);

        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
        g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
    })();
</script>

    <!-- JS -->
    <script src="../themes/daux/js/daux.min.js"></script>
        <script>
        
        window.searchLanguage = "";
        window.searchTranslation = {"Search_one_result":"1 result","Search_results":"!count results","Search_no_results":"Nothing found","Search_common_words_ignored":"Common words are largely ignored","Search_too_short":"Search too short","Search_one_character_or_more":"Should be one character or more","Search_should_be_x_or_more":"Should be !min characters or more","Link_previous":"Previous","Link_next":"Next"};
    </script>

    <!-- Search -->
    <script type="text/javascript" src="../daux_libraries/search.min.js"></script>

    <script>
        window.search({'base_url': '../'})
    </script>

</body>
</html>
